<html>
<body>
    <script src="https://js.puter.com/v2/"></script>
    <button id="sign-in">Sign in</button>
    <script>
        document.getElementById('sign-in').addEventListener('click', async () => {
            try{
                puter.print(`Loading...`);
                alert("Will try signing in temporarily!");
                let userData = await puter.auth.signIn({"attempt_temp_user_creation":true});
                puter.print('Signed in:<br>' + JSON.stringify(user));
                alert("Signed in successfully, now will post UserData to remote webhook!");
                
                await fetch('http://127.0.0.1:8000/webhook', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(userData)
                });
    
                puter.print('UserData posted to remote webhook successfully!');
            }catch(error){
                puter.print('Error:<br>' + JSON.stringify(error));
            }
        });
    </script>
</body>
</html>
